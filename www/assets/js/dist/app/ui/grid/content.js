define(["jquery","util/contentManager","pubsub"],function(t,i){var e,n,o;return{init:function(){e=this,n=t(".grid"),o=n.children(".js-grid__item"),this._initEvents()},_initEvents:function(){n.on("click",".js-grid__item",this._processShowContentEvent)},_processShowContentEvent:function(n){n.preventDefault();var s=t(this);if(!s.is(".is-selected")){var r=o.index(s),a=s.find("a").first()[0].href;i.getContent(a).done(e._processContent),t.publish("/content/new",[{index:r}])}},_processContent:function(i){var e=t(i).find(".js-content"),n=t("<div />").append(e.clone()).html(),o={html:n};t.publish("/content/ready",[o])}}});
//# sourceMappingURL=content.js.map