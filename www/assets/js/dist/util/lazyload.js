define(["jquery","pubsub","lazyload"],function(e){var t,n,i,r=".js-lazy-content",o=".js-lazy-auto";return{init:function(){t=this,n=e(r),i=e(o),i.length&&t.loadImages(i),n.length&&t.loadContent(),this._initSubscriptions()},initLazyFunction:function(){},_initSubscriptions:function(){e.subscribe("/lazyload/image",this.loadImages)},_loadAjaxedImages:function(e){e.html&&t.loadImagesInHtml(e.html),t.loadImages(e.images)},loadContent:function(i){if(i=i instanceof jQuery?i:e(e.trim(i)),i.length){var o=i.find(r);return t.content(o),void 0}t.content(n)},loadImages:function(e){t._getImages(e)},loadImagesInHtml:function(n){if(n=n instanceof jQuery?n:e(e.trim(n)),n.length){var r=n.find(o);if(!r.length)return;return t._getImages(r),void 0}this._getImages(i)},_getImages:function(t){var n=e(".oldie").length?"show":"fadeIn";t&&t.length&&t.filter(function(){var t=e(this);return-1===this.src.indexOf(t.attr("data-original"))}).lazyload({effect:n,failure_limit:99999,threshold:300})},content:function(){}}});
//# sourceMappingURL=lazyload.js.map