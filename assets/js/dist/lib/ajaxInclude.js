!function(t){t.fn.ajaxInclude=function(e){function i(e){var i=e.data("url");c.proxy&&-1===t.inArray(i,a)?(a.push(i),u=u.add(e)):n(e.data("url"),e)}function n(e,i){t.get(e,function(t){i.trigger("ajaxIncludeResponse",[t])})}function o(){a.length&&(n(c.proxy+a.join(","),u),u=t(),a=[])}function s(t,e){function n(){i(t),o(),s.removeListener(n)}var s=r.matchMedia(e);s.addListener&&s.addListener(n)}var r=window,a=[],u=t(),d="data-ajax-bound",c={proxy:null};return"string"==typeof e?c.proxy=e:c=t.extend(c,e),this.not("["+d+"]").each(function(){for(var e,n,o=t(this),a=o.attr("data-media"),u=["append","replace","before","after"],l=u.length,h=0;l>h;h++)o.is("[data-"+u[h]+"]")&&(e=u[h],n=o.attr("data-"+e));"replace"===e&&(e+="With"),o.data("method",e).data("url",n).attr(d,!0).bind("ajaxIncludeResponse",function(t,i){var n=i;if(c.proxy){var s=n.match(new RegExp("<entry url=[\"']?"+o.data("url")+"[\"']?>(?:(?!</entry>)(.|\n))*","gmi"));s&&(n=s[0])}var r=o.triggerHandler("ajaxIncludeFilter",[n]);r&&(n=r),"replaceWith"===e?o.trigger("ajaxInclude",[n])[o.data("method")](n):o[o.data("method")](n).trigger("ajaxInclude",[n])}),!a||r.matchMedia&&r.matchMedia(a).matches?i(o):a&&r.matchMedia&&s(o,a)}),o(),this}}(jQuery);
//# sourceMappingURL=ajaxInclude.js.map