!function(t,e){function n(e,n){this.element=e,this.$element=t(e),this.options=t.extend({},r,n),this.position=s(this.$element),this._defaults=r,this._name=i,this.init()}var i="lazyScroll",r={tolerance:100,callback:function(){console.log("scrolled")}},o=t(e),s=function(t){return t.offset().top},a=function(){return o.scrollTop()},u=function(n,i){return n<=a()+t(e).height()+i},l=function(){o.data("/lazyscroll/scroll")||(o.on("scroll",t.throttle(250,function(){t.publish("/lazyscroll/scroll")})),o.data("/lazyscroll/scroll",!0)),o.data("/lazyscroll/resize")||(o.on("resize",t.throttle(250,function(){t.publish("/lazyscroll/resize")})),o.data("/lazyscroll/resize",!0))};n.prototype={init:function(){this.initSubscriptions(),this.processScrollEvent(this)},initSubscriptions:function(){var e=this;t.subscribe("/lazyscroll/scroll",function(){e.processScrollEvent(e)}),t.subscribe("/lazyscroll/resize",function(){e.recalculatePosition(e),e.processScrollEvent(e)})},processScrollEvent:function(t){if(t.$element){var e=u(t.position,t.options.tolerance);e&&(t.fire.call(t),this.$element.trigger("lazyscroll.fire"),t.$element=null)}},recalculatePosition:function(t){t.$element&&(t.position=s(this.$element))},fire:function(){this.options.callback.call(this.element)}},t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new n(this,e))})},l()}(jQuery,window,document);
//# sourceMappingURL=jquery.lazyscroll.js.map