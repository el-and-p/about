{"version":3,"file":"about.js","sources":["../ui/testimonials/load.js","../../lib/littleglitch/jquery.brotator.js","../ui/rotator/rotator.js","about.js"],"names":[],"mappings":"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","sourcesContent":["\ndefine(\n\t'app/ui/testimonials/load',[\n\t\t'jquery',\n\t\t'util/mediaqueries'\n\t],\n\n\tfunction ( $, MediaQueries ) {\n\n\t\tvar TestimonialsLoad;\n\t\tvar $testimonials;\n\n\t\treturn {\n\n\t\t\tinit: function () {\n\t\t\t\tTestimonialsLoad = this;\n\t\t\t\t$testimonials= $( '.js-masonry' );\n\t\t\t\tif($testimonials.length){\n\t\t\t\t\tthis._initMediaQueries();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_initMediaQueries: function(){\n\t\t\t\tMediaQueries.register([{\n\t\t\t\t\tqueries: 'screen and (min-width: 660px)',\n\t\t\t\t\tmatch: function(){\n\t\t\t\t\t\tif($testimonials.data('masonry') === undefined) {\n\t\t\t\t\t\t\trequire(['app/ui/testimonials/testimonials'], function(Testimonials){\n\t\t\t\t\t\t\t\tTestimonials.init();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]);\n\t\t\t}\n\n\t\t};\n\n\t}\n);\n\n\n","\n(function ( $ ) {\n\t$.fn.brotator = function ( options ) {\n\n\t\tvar defaults = {\n\t\t\tanimation: 'fade',\n\t\t\tanimationSpeed: 500,\n\t\t\teasing: 'linear',\n\t\t\tautorotate: true,\n\t\t\ttimeout: 8000,\n\t\t\tcontent: '.content',\n\t\t\titem: '.item',\n\t\t\tmenu: '.media-index',\n\t\t\tmenuItem: '.media-index-item',\n\t\t\tmenuUpdate: 'default',\n\t\t\tnext: '.next',\n\t\t\tprevious: '.previous',\n\t\t\thasMenu: false,\n\t\t\tmenuClick: true,\n\t\t\thasButtons: true,\n\t\t\tcontentSetup: null,\n\t\t\twait: true,\n\t\t\tlazyloader: false,\n\t\t\tzIndex: 2,\n\t\t\tcomplete: null,\n\t\t\tnamespace: null\n\t\t};\n\n\t\treturn this.each( function () {\n\n\t\t\tif ( options ) {\n\t\t\t\t$.extend( defaults, options );\n\t\t\t}\n\n\t\t\tvar nameSpace = defaults.namespace + Math.floor( Math.random() * 10001 ) || '/' + this.id;\n\t\t\tvar thisRotator = $( this );\n\t\t\tvar contentItems = thisRotator.find( defaults.content );\n\t\t\tvar maxItems = contentItems.find( defaults.item ).size();\n\n\t\t\tif ( options === 'destroy' ) {\n\t\t\t\tvar $plugin = thisRotator.data( 'brotator' );\n\t\t\t\tvar pluginTimer = thisRotator.data( 'brotator_timer' );\n\t\t\t\tvar pluginMenu = thisRotator.data( 'brotator_menu' );\n\t\t\t\tvar pluginButtons = thisRotator.data( 'brotator_buttons' );\n\t\t\t\tvar pluginContent = thisRotator.data( 'brotator_content' );\n\t\t\t\tvar currentNameSpace = thisRotator.data( 'namespace' );\n\t\t\t\tif ( pluginTimer ) {\n\t\t\t\t\tpluginTimer.clearAutoTimer.apply( $plugin[0], Array.prototype.splice.call( arguments, 1 ) );\n\t\t\t\t}\n\t\t\t\tif ( pluginMenu ) {\n\t\t\t\t\tpluginMenu.clearEvents();\n\t\t\t\t}\n\t\t\t\tif ( pluginButtons ) {\n\t\t\t\t\tpluginButtons.clearEvents();\n\t\t\t\t}\n\t\t\t\tpluginContent.reset();\n\t\t\t\t$.unsubscribe( currentNameSpace + '/transition/start' );\n\t\t\t\t$.unsubscribe( currentNameSpace + '/transition/end' );\n\t\t\t\t$.unsubscribe( currentNameSpace + '/lazyloader/get' );\n\t\t\t\t$.unsubscribe( currentNameSpace + '/state/updated' );\n\t\t\t\tthisRotator.data( 'brotator', '' );\n\t\t\t\tthisRotator.data( 'brotator_timer', '' );\n\t\t\t\tthisRotator.data( 'brotator_menu', '' );\n\t\t\t\tthisRotator.data( 'brotator_buttons', '' );\n\t\t\t\tthisRotator.data( 'brotator_content', '' );\n\t\t\t\tthisRotator.data( 'namespace', '' );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*======= Timer ======= */\n\t\t\tvar Timer = {\n\t\t\t\ttimeoutID: null,\n\t\t\t\tinitTriggers: function () {\n\t\t\t\t\tthisRotator.on( 'start.timer.brotator', function () {\n\t\t\t\t\t\tdefaults.autorotate = true;\n\t\t\t\t\t\tTimer.init.call( Timer );\n\t\t\t\t\t} );\n\t\t\t\t\tthisRotator.on( 'stop.timer.brotator', function () {\n\t\t\t\t\t\tdefaults.autorotate = false;\n\t\t\t\t\t\tTimer.clearAutoTimer.call( Timer );\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tclearTriggers: function () {\n\t\t\t\t\tthisRotator.off( 'start.timer.brotator' );\n\t\t\t\t\tthisRotator.off( 'stop.timer.brotator' );\n\t\t\t\t},\n\t\t\t\tinit: function () {\n\t\t\t\t\tthis.setAutoRotate();\n\t\t\t\t\t$.subscribe( nameSpace + '/transition/start', function ( index, stopTimer ) {\n\t\t\t\t\t\tstopTimer && Timer.clearAutoTimer();\n\t\t\t\t\t} );\n\t\t\t\t\t$.subscribe( nameSpace + '/transition/end', function ( index ) {\n\t\t\t\t\t\tif ( defaults.autorotate ) {\n\t\t\t\t\t\t\tTimer.setAutoRotate();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tsetAutoRotate: function () {\n\t\t\t\t\tvar timeToStart = defaults.timeout;\n\t\t\t\t\tif ( !defaults.wait ) {\n\t\t\t\t\t\ttimeToStart = 50;\n\t\t\t\t\t\tdefaults.wait = true;\n\t\t\t\t\t}\n\t\t\t\t\tTimer.timeoutID = setTimeout( function () {\n\t\t\t\t\t\t$.publish( nameSpace + '/transition/start', [State.next] );\n\t\t\t\t\t}, timeToStart );\n\t\t\t\t\tthisRotator.data( 'timer', Timer.timeoutID );\n\t\t\t\t},\n\t\t\t\tclearAutoTimer: function () {\n\t\t\t\t\tvar timer = thisRotator.data( 'timer' );\n\t\t\t\t\tif ( timer ) {\n\t\t\t\t\t\tclearTimeout( timer );\n\t\t\t\t\t\tdefaults.autorotate = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/*======= State ======= */\n\t\t\tvar State = {\n\t\t\t\tcurrent: 0,\n\t\t\t\tnext: 1,\n\t\t\t\tprevious: maxItems - 1,\n\t\t\t\tinTransition: false,\n\t\t\t\tupdateState: function ( index ) {\n\t\t\t\t\tthis.updateProp( 'current', index );\n\t\t\t\t\tvar next = index < maxItems - 1 ? index + 1 : 0,\n\t\t\t\t\tprevious = index === 0 ? maxItems - 1 : index - 1;\n\t\t\t\t\tthis.updateProp( 'next', next );\n\t\t\t\t\tthis.updateProp( 'previous', previous );\n\t\t\t\t\tthis.updateProp( 'inTransition', false );\n\t\t\t\t\t$.publish( nameSpace + '/state/updated', [{\n\t\t\t\t\t\tnext: next,\n\t\t\t\t\t\tcurrent: State.current\n\t\t\t\t\t}] );\n\t\t\t\t},\n\t\t\t\tupdateProp: function ( prop, index ) {\n\t\t\t\t\tthis[prop] = index;\n\t\t\t\t},\n\t\t\t\tinit: function () {\n\t\t\t\t\t$.subscribe( nameSpace + '/transition/start', function () {\n\t\t\t\t\t\tState.updateProp( 'inTransition', true );\n\t\t\t\t\t} );\n\t\t\t\t\t$.subscribe( nameSpace + '/transition/end', function ( index ) {\n\t\t\t\t\t\tState.updateState( index );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/*======= Menu ======= */\n\t\t\tvar Menu = {\n\t\t\t\telem: $( defaults.menu ),\n\t\t\t\tinit: function () {\n\t\t\t\t\t$.subscribe( nameSpace + '/transition/start', function ( index ) {\n\t\t\t\t\t\tMenu.updateMenu[defaults.menuUpdate]( index );\n\t\t\t\t\t} );\n\t\t\t\t\tif ( defaults.menuClick ) {\n\t\t\t\t\t\tthis.clickEvent();\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tclearEvents: function () {\n\t\t\t\t\tMenu.elem.off( 'click', defaults.menuItem );\n\t\t\t\t},\n\t\t\t\tclickEvent: function () {\n\t\t\t\t\tvar $menu = Menu.elem;\n\t\t\t\t\t$menu.on( 'click', defaults.menuItem, function ( event ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif ( this.className.indexOf( 'is-selected' ) === -1 && !State.inTransition ) {\n\t\t\t\t\t\t\tvar selectedIndex = $menu.find( 'li' ).index( $( this ).closest( 'li' ) );\n\t\t\t\t\t\t\t$.publish( nameSpace + '/transition/start', [selectedIndex, true /* Stop Timer */] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tupdateMenu: {\n\t\t\t\t\t\"default\": function ( index ) {\n\t\t\t\t\t\tvar $currentSelected = Menu.elem.find( '.is-selected' ),\n\t\t\t\t\t\t\t$nextSelected = Menu.elem.find( 'li' ).eq( index );\n\n\t\t\t\t\t\t$currentSelected.removeClass( 'is-selected ' );\n\t\t\t\t\t\t$nextSelected.find( 'a' ).addClass( 'is-selected ' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/*======= Buttons ======= */\n\t\t\tvar Buttons = {\n\t\t\t\tinit: function () {\n\t\t\t\t\tthis.clickEvent();\n\t\t\t\t},\n\t\t\t\tnextButton: thisRotator.find( defaults.next ),\n\t\t\t\tpreviousButton: thisRotator.find( defaults.previous ),\n\t\t\t\tclearEvents: function () {\n\t\t\t\t\t$.each( [this.nextButton, this.previousButton], function () {\n\t\t\t\t\t\t$( this ).off( 'click' );\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tclickEvent: function () {\n\t\t\t\t\t$.each( [this.nextButton, this.previousButton], function () {\n\t\t\t\t\t\t$( this ).click( function ( event ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tif ( !State.inTransition ) {\n\t\t\t\t\t\t\t\tvar indexToShow = this.className.indexOf( 'next' ) !== -1 ? State.next : State.previous;\n\t\t\t\t\t\t\t\t$.publish( nameSpace + '/transition/start', [indexToShow, true /* Stop timer */] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/*======= ImageLoader ======= */\n\t\t\tvar ImageLoader = {\n\t\t\t\timgCache: {},\n\t\t\t\tinit: function () {\n\t\t\t\t\tthis.initCache();\n\t\t\t\t\tthis.initSubscriptions();\n\t\t\t\t},\n\t\t\t\tinitCache: function () {\n\t\t\t\t\tcontentItems.find( defaults.item ).each( function () {\n\t\t\t\t\t\tvar $thisItem = $( this );\n\t\t\t\t\t\tif ( $thisItem.find( 'img[data-original]' ).length ) {\n\t\t\t\t\t\t\tvar imgSrc = $thisItem.find( 'img' ).attr( 'data-original' );\n\t\t\t\t\t\t\tif ( imgSrc ) {\n\t\t\t\t\t\t\t\tImageLoader.imgCache[imgSrc] = $thisItem.find( 'img' )[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tinitSubscriptions: function () {\n\t\t\t\t\t$.subscribe( nameSpace + '/lazyloader/get', function ( data ) {\n\t\t\t\t\t\tvar $nextItem = contentItems.find( 'li' ).eq( data.next );\n\t\t\t\t\t\tif ( $nextItem.find( 'img[data-original]' ).length && !ImageLoader.isImageLoaded( $nextItem ) ) {\n\t\t\t\t\t\t\tImageLoader.processImg( $nextItem );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t\t$.subscribe( nameSpace + '/state/updated', function ( data ) {\n\t\t\t\t\t\tvar $nextItem = contentItems.find( 'li' ).eq( data.next );\n\t\t\t\t\t\tif ( $nextItem.find( 'img[data-original]' ).length && !ImageLoader.isImageLoaded( $nextItem ) ) {\n\t\t\t\t\t\t\tImageLoader.processImg( $nextItem );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tprocessImg: function ( $nextItem ) {\n\t\t\t\t\tvar $nextImg = $nextItem.find( 'img' );\n\t\t\t\t\tvar nextImgSrc = $nextImg.attr( 'data-original' );\n\t\t\t\t\t$nextImg[0].src = nextImgSrc;\n\t\t\t\t},\n\t\t\t\tisImageLoaded: function ( $nextItem ) {\n\t\t\t\t\tvar $nextImage = $nextItem.find( 'img' );\n\t\t\t\t\treturn $nextImage[0].src.indexOf( $nextImage.attr( 'data-original' ) ) !== -1;\n\t\t\t\t},\n\t\t\t\tcheckCache: function ( nextImgSrc ) {\n\t\t\t\t\treturn ImageLoader.imgCache[nextImgSrc];\n\t\t\t\t},\n\t\t\t\tgetImg: function ( imgSrc ) {\n\n\t\t\t\t\tvar img;\n\n\t\t\t\t\tif ( ImageLoader.checkCache( imgSrc ) ) {\n\t\t\t\t\t\timg = ImageLoader.imgCache[imgSrc];\n\t\t\t\t\t} else {\n\t\t\t\t\t\timg = new Image();\n\t\t\t\t\t\timg.src = imgSrc;\n\t\t\t\t\t\timg.className = 'rotator-header-image';\n\t\t\t\t\t\tImageLoader.imgCache[imgSrc] = img;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn img;\n\t\t\t\t},\n\t\t\t\tinsertImg: function ( $item, img ) {\n\t\t\t\t\t$item.prepend( img );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/*======= Content ======= */\n\t\t\tvar Content = {\n\t\t\t\tcount: contentItems.find( 'li' ).length,\n\t\t\t\treset: function () {\n\t\t\t\t\tvar $firstLi = contentItems.find( 'li' ).first();\n\t\t\t\t\tcontentItems.attr( 'style', '' );\n\t\t\t\t\tcontentItems.find( 'li' ).each( function () {\n\t\t\t\t\t\t$( this ).attr( 'style', '' );\n\t\t\t\t\t} );\n\t\t\t\t\tif ( !$firstLi.is( '.is-selected' ) ) {\n\t\t\t\t\t\tcontentItems.find( '.is-selected' ).removeClass( 'is-selected' );\n\t\t\t\t\t\tcontentItems.find( 'li' ).first().addClass( 'is-selected' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tinit: function () {\n\n\t\t\t\t\tif ( defaults.contentSetup ) {\n\t\t\t\t\t\tContent.contentSetup[defaults.contentSetup]();\n\t\t\t\t\t}\n\n\t\t\t\t\t$.subscribe( nameSpace + '/transition/start', function ( index ) {\n\t\t\t\t\t\tthisRotator.trigger('brotator.transition.start', { next: index });\n\t\t\t\t\t\tif ( defaults.lazyloader ) {\n\t\t\t\t\t\t\t$.publish( nameSpace + \"/lazyloader/get\", [{ next: index}] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tContent.animations[defaults.animation]( index );\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tpostTransition: function ( currentItem, newItem ) {\n\t\t\t\t\tcurrentItem.removeClass( 'is-selected' );\n\t\t\t\t\tnewItem.addClass( 'is-selected' );\n\t\t\t\t\tif ( defaults.complete ) {\n\t\t\t\t\t\tdefaults.complete.call( newItem[0] );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontentSetup: {\n\t\t\t\t\t'responsive': function () {\n\t\t\t\t\t\tcontentItems.css( {\n\t\t\t\t\t\t\twidth: 100 * Content.count + '%'\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tcontentItems.find( 'li' ).each( function () {\n\t\t\t\t\t\t\t$( this ).css( {\n\t\t\t\t\t\t\t\twidth: 100 / Content.count + '%',\n\t\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tanimations: {\n\t\t\t\t\t\"fade\": function ( indexToShow ) {\n\n\t\t\t\t\t\tvar items = contentItems.find( defaults.item ),\n\t\t\t\t\t\t\tcurrentItem = items.eq( State.current ),\n\t\t\t\t\t\t\tnewItem = items.eq( indexToShow );\n\n\t\t\t\t\t\tif(Modernizr.csstransitions && Modernizr.csstransforms) {\n\t\t\t\t\t\t\tcurrentItem.removeClass('is-fading-in').addClass('is-fading-out');\n\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\tnewItem.removeClass('is-fading-out').addClass('is-fading-in');\n\t\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\tContent.postTransition( currentItem, newItem );\n\t\t\t\t\t\t\t\t$.publish( nameSpace + '/transition/end', [indexToShow] );\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentItem.css({\n\t\t\t\t\t\t\t\t\"z-index\": 1\n\t\t\t\t\t\t\t}).animate({\n\t\t\t\t\t\t\t\t\"opacity\": \"0\"\n\t\t\t\t\t\t\t}, defaults.animationSpeed, defaults.easing);\n\n\t\t\t\t\t\t\tnewItem.css( {\n\t\t\t\t\t\t\t\t\"display\": \"block\",\n\t\t\t\t\t\t\t\t\"opacity\": \"0\",\n\t\t\t\t\t\t\t\t\"z-index\": defaults.zIndex\n\t\t\t\t\t\t\t} ).animate( {\n\t\t\t\t\t\t\t\t\"opacity\": \"1\"\n\t\t\t\t\t\t\t}, defaults.animationSpeed, defaults.easing, function () {\n\t\t\t\t\t\t\t\tcurrentItem.attr( 'style', '' );\n\t\t\t\t\t\t\t\tContent.postTransition( currentItem, newItem );\n\t\t\t\t\t\t\t\t$.publish( nameSpace + '/transition/end', [indexToShow] );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\t// \"fade\": function ( indexToShow ) {\n\n\t\t\t\t\t// \tvar items = contentItems.find( defaults.item ),\n\t\t\t\t\t// \t\tcurrentItem = items.eq( State.current ),\n\t\t\t\t\t// \t\tnewItem = items.eq( indexToShow );\n\n\t\t\t\t\t// \tcurrentItem.css({\n\t\t\t\t\t// \t\t\"z-index\": 1\n\t\t\t\t\t// \t}).animate({\n\t\t\t\t\t// \t\t\"opacity\": \"0\"\n\t\t\t\t\t// \t}, defaults.animationSpeed, defaults.easing);\n\n\t\t\t\t\t// \tnewItem.css( {\n\t\t\t\t\t// \t\t\"display\": \"block\",\n\t\t\t\t\t// \t\t\"opacity\": \"0\",\n\t\t\t\t\t// \t\t\"z-index\": defaults.zIndex\n\t\t\t\t\t// \t} ).animate( {\n\t\t\t\t\t// \t\t\"opacity\": \"1\"\n\t\t\t\t\t// \t}, defaults.animationSpeed, defaults.easing, function () {\n\t\t\t\t\t// \t\tcurrentItem.attr( 'style', '' );\n\t\t\t\t\t// \t\tContent.postTransition( currentItem, newItem );\n\t\t\t\t\t// \t\t$.publish( nameSpace + '/transition/end', [indexToShow] );\n\t\t\t\t\t// \t} );\n\t\t\t\t\t// },\n\t\t\t\t\t\"slide\": function ( indexToShow ) {\n\n\t\t\t\t\t\tvar items = contentItems.find( defaults.item );\n\t\t\t\t\t\tvar currentItem = items.eq( State.current );\n\t\t\t\t\t\tvar newItem = items.eq( indexToShow );\n\n\t\t\t\t\t\tvar distance = ( indexToShow * 100 );\n\n\t\t\t\t\t\tif ( Modernizr.csstransitions ) {\n\t\t\t\t\t\t\tcontentItems.css( {\n\t\t\t\t\t\t\t\tleft: ( distance * -1 ) + '%'\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tContent.postTransition( currentItem, newItem );\n\t\t\t\t\t\t\tsetTimeout( function () {\n\t\t\t\t\t\t\t\t$.publish( nameSpace + '/transition/end', [indexToShow] );\n\t\t\t\t\t\t\t}, 500 );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontentItems.animate( {\n\t\t\t\t\t\t\t\tleft: ( distance * -1 ) + '%'\n\t\t\t\t\t\t\t}, defaults.animationSpeed, defaults.easing, function () {\n\t\t\t\t\t\t\t\tContent.postTransition( currentItem, newItem );\n\t\t\t\t\t\t\t\t$.publish( nameSpace + '/transition/end', [indexToShow] );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ( options === 'stopAutoRotate' ) {\n\t\t\t\treturn Timer.clearAutoTimer.apply( this, Array.prototype.splice.call( arguments, 1 ) );\n\t\t\t}\n\n\t\t\tif ( options === 'startAutoRotate' ) {\n\t\t\t\treturn Timer.setAutoRotate.apply( this, Array.prototype.splice.call( arguments, 1 ) );\n\t\t\t}\n\n\t\t\tif ( !( typeof options === 'string' ) ) {\n\t\t\t\tdefaults.hasMenu && Menu.init();\n\t\t\t\tdefaults.hasButtons && Buttons.init();\n\t\t\t\tdefaults.autorotate && Timer.init();\n\t\t\t\tTimer.initTriggers();\n\t\t\t\tdefaults.lazyloader && ImageLoader.init();\n\t\t\t\tState.init();\n\t\t\t\tContent.init();\n\t\t\t}\n\n\t\t\tif ( !thisRotator.data( 'brotator' ) ) {\n\t\t\t\tthisRotator.data( 'brotator', $( this ) );\n\t\t\t\tthisRotator.data( 'brotator_timer', Timer );\n\t\t\t\tthisRotator.data( 'brotator_menu', Menu );\n\t\t\t\tthisRotator.data( 'brotator_buttons', Buttons );\n\t\t\t\tthisRotator.data( 'brotator_content', Content );\n\t\t\t\tthisRotator.data( 'namespace', nameSpace );\n\t\t\t}\n\n\t\t} );\n\n\t};\n} )( jQuery );\n\ndefine(\"brotator\", [\"jquery\",\"easing\",\"pubsub\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.jQuery;\n    };\n}(this)));\n","\n/* app/ui/rotator/rotator */\n\ndefine(\n\t'app/ui/rotator/rotator',[\n\t\t'jquery',\n\t\t'brotator',\n\t\t'throttledebounce'\n\t],\n\n\tfunction ($) {\n\n\t\tvar Rotator;\n\t\tvar $rotator;\n\t\tvar $items;\n\t\tvar $buttons;\n\t\tvar $currentItem;\n\t\tvar $viewport;\n\n\t\treturn {\n\t\t\tinit: function() {\n\t\t\t\tRotator = this;\n\t\t\t\t$rotator = $('.js-rotator');\n\t\t\t\t$items = $rotator.find( '.js-rotator__item' );\n\t\t\t\t$buttons = $rotator.find('.js-rotator__next, .js-rotator__prev');\n\t\t\t\t$viewport = $rotator.find('.js-rotator__content');\n\t\t\t\tRotator._setItemPadding($items.first());\n\t\t\t\tRotator._setAnimationClass($items.first());\n\t\t\t\tRotator._initEvents();\n\t\t\t\t$rotator.brotator({\n\t\t\t\t\tautorotate: false,\n\t\t\t\t\tcontent: '.js-rotator__content',\n\t\t\t\t\titem: '.js-rotator__item',\n\t\t\t\t\tmenu: '.js-rotator__menu',\n\t\t\t\t\tmenuItem: '.js-rotator__menu-item',\n\t\t\t\t\tnext: '.js-rotator__next',\n\t\t\t\t\tprevious: '.js-rotator__prev',\n\t\t\t\t\thasMenu: true,\n\t\t\t\t\tmenuClick: true,\n\t\t\t\t\thasButtons: true,\n\t\t\t\t\tcontentSetup: null,\n\t\t\t\t\tcomplete: function(){\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t_initEvents: function(){\n\t\t\t\t$rotator.on('brotator.transition.start', function( event, data ){\n\t\t\t\t\tvar next = data.next;\n\t\t\t\t\tvar $next = $items.eq(next);\n\t\t\t\t\tRotator._setItemPadding($next);\n\t\t\t\t});\n\t\t\t\t$(window).on('resize', $.throttle(250, function(){\n\t\t\t\t\tvar $currentSelected = $items.filter('.is-selected');\n\t\t\t\t\tRotator._setItemPadding($currentSelected);\n\t\t\t\t}));\n\t\t\t\t$rotator.find( '.js-next' ).on( 'click', this._showNextItem );\n\t\t\t},\n\t\t\t_setItemPadding: function($item){\n\t\t\t\tvar height = $item.outerHeight();\n\t\t\t\tvar width = $item.outerWidth();\n\t\t\t\tvar percentage = (height / width)*100 + '%';\n\t\t\t\t$items.filter('.is-first-item').removeClass('is-first-item');\n\t\t\t\t$viewport.css({\n\t\t\t\t\t'padding-bottom': percentage\n\t\t\t\t});\n\t\t\t},\n\t\t\t_showNextItem: function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t$rotator.find( '.js-rotator__next' ).trigger( 'click' );\n\t\t\t},\n\t\t\t_setAnimationClass: function( $item ){\n\t\t\t\t$item.addClass('is-fading-in');\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t$viewport.addClass('bottom-slide');\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t};\n\t}\n);\n\n","\n/* app/page/about */\n\ndefine(\n\t'app/page/about',[\n\t\t'jquery',\n\t\t'app/ui/testimonials/load',\n\t\t'app/ui/rotator/rotator'\n\t],\n\n\tfunction ( $, TestimonialsLoad, Rotator ) {\n\n\t\tTestimonialsLoad.init();\n\t\tRotator.init();\n\t}\n);\n\n"]}